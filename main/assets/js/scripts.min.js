function Util(){}function CustomEvent(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var s=document.createEvent("CustomEvent");return s.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),s}function resetFocusTabsStyle(){window.dispatchEvent(new CustomEvent("initFocusTabs"))}Util.hasClass=function(t,e){return t.classList?t.classList.contains(e):!!t.getAttribute("class").match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},Util.addClass=function(t,e){e=e.split(" ");t.classList?t.classList.add(e[0]):Util.hasClass(t,e[0])||t.setAttribute("class",t.getAttribute("class")+" "+e[0]),1<e.length&&Util.addClass(t,e.slice(1).join(" "))},Util.removeClass=function(t,e){var s=e.split(" ");t.classList?t.classList.remove(s[0]):Util.hasClass(t,s[0])&&(e=new RegExp("(\\s|^)"+s[0]+"(\\s|$)"),t.setAttribute("class",t.getAttribute("class").replace(e," "))),1<s.length&&Util.removeClass(t,s.slice(1).join(" "))},Util.toggleClass=function(t,e,s){s?Util.addClass(t,e):Util.removeClass(t,e)},Util.setAttributes=function(t,e){for(var s in e)t.setAttribute(s,e[s])},Util.getChildrenByClassName=function(t,e){t.children;for(var s=[],i=0;i<t.children.length;i++)Util.hasClass(t.children[i],e)&&s.push(t.children[i]);return s},Util.is=function(t,e){if(e.nodeType)return t===e;for(var s="string"==typeof e?document.querySelectorAll(e):e,i=s.length;i--;)if(s[i]===t)return!0;return!1},Util.setHeight=function(s,t,i,n,o){var l=t-s,a=null,r=function(t){var e=t-(a=a||t);n<e&&(e=n);t=parseInt(e/n*l+s);i.style.height=t+"px",e<n?window.requestAnimationFrame(r):o&&o()};i.style.height=s+"px",window.requestAnimationFrame(r)},Util.scrollTo=function(s,i,n,t){var o=t||window,l=o.scrollTop||document.documentElement.scrollTop,a=null;t||(l=window.scrollY||document.documentElement.scrollTop);var r=function(t){var e=t-(a=a||t);i<e&&(e=i);t=Math.easeInOutQuad(e,l,s-l,i);o.scrollTo(0,t),e<i?window.requestAnimationFrame(r):n&&n()};window.requestAnimationFrame(r)},Util.moveFocus=function(t){(t=t||document.getElementsByTagName("body")[0]).focus(),document.activeElement!==t&&(t.setAttribute("tabindex","-1"),t.focus())},Util.getIndexInArray=function(t,e){return Array.prototype.indexOf.call(t,e)},Util.cssSupports=function(t,e){return"CSS"in window?CSS.supports(t,e):t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})in document.body.style},Util.extend=function(){var s={},i=!1,t=0,e=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(i=arguments[0],t++);for(;t<e;t++)!function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i&&"[object Object]"===Object.prototype.toString.call(t[e])?s[e]=extend(!0,s[e],t[e]):s[e]=t[e])}(arguments[t]);return s},Util.osHasReducedMotion=function(){if(!window.matchMedia)return!1;var t=window.matchMedia("(prefers-reduced-motion: reduce)");return!!t&&t.matches},Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e}while(null!==(e=e.parentElement||e.parentNode)&&1===e.nodeType);return null}),"function"!=typeof window.CustomEvent&&(CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent),Math.easeInOutQuad=function(t,e,s,i){return(t/=i/2)<1?s/2*t*t+e:-s/2*(--t*(t-2)-1)+e},Math.easeInQuart=function(t,e,s,i){return s*(t/=i)*t*t*t+e},Math.easeOutQuart=function(t,e,s,i){return t/=i,-s*(--t*t*t*t-1)+e},Math.easeInOutQuart=function(t,e,s,i){return(t/=i/2)<1?s/2*t*t*t*t+e:-s/2*((t-=2)*t*t*t-2)+e},Math.easeOutElastic=function(t,e,s,i){var n=1.70158,o=.7*i,l=s;return 0==t?e:1==(t/=i)?e+s:(o=o||.3*i,n=l<Math.abs(s)?(l=s,o/4):o/(2*Math.PI)*Math.asin(s/l),l*Math.pow(2,-10*t)*Math.sin((t*i-n)*(2*Math.PI)/o)+s+e)},function(){var i=document.getElementsByClassName("js-tab-focus"),t=!1,e=!1,s=!1;function n(){0<i.length&&(l(!1),window.addEventListener("keydown",o)),window.removeEventListener("mousedown",n),s=!(e=!1)}function o(t){9===t.keyCode&&(l(!0),window.removeEventListener("keydown",o),window.addEventListener("mousedown",n),e=!0)}function l(t){for(var e=t?"":"none",s=0;s<i.length;s++)i[s].style.setProperty("outline",e)}function a(){t?s&&l(e):(t=0<i.length,window.addEventListener("mousedown",n))}a(),window.addEventListener("initFocusTabs",a)}(),function(){function t(t){this.element=t,this.wordsWrapper=this.element.getElementsByClassName(" js-text-anim__wrapper"),this.words=this.element.getElementsByClassName("js-text-anim__word"),this.selectedWord=0,this.loopInterval=1e3*parseFloat(getComputedStyle(this.element).getPropertyValue("--text-anim-pause"))||1e3,this.transitionDuration=1e3*parseFloat(getComputedStyle(this.element).getPropertyValue("--text-anim-duration"))||1e3,this.loop=!this.element.getAttribute("data-loop")||"off"!=this.element.getAttribute("data-loop"),this.wordInClass="text-anim__word--in",this.wordOutClass="text-anim__word--out",this.isClipAnim=Util.hasClass(this.element,"text-anim--clip"),this.isClipAnim&&(this.animBorderWidth=parseInt(getComputedStyle(this.element).getPropertyValue("--text-anim-border-width"))||2,this.animPulseClass="text-anim__wrapper--pulse"),function(t){var e=t.element.getElementsByClassName(t.wordInClass);0==e.length?Util.addClass(t.words[0],t.wordInClass):t.selectedWord=Util.getIndexInArray(t.words,e[0])}(t=this),t.isClipAnim&&Util.addClass(t.wordsWrapper[0],t.animPulseClass),a(t)}function a(o){var l;!o.loop&&o.selectedWord==o.words.length-1||(l=function(t){var e=t.selectedWord+1;e>=t.words.length&&(e=0);return e}(o),setTimeout(function(){var t,e,s,i,n;o.isClipAnim?(s=l,i=(e=o).words[e.selectedWord].offsetWidth,n=e.words[s].offsetWidth,Util.removeClass(e.wordsWrapper[0],e.animPulseClass),r(i,e.animBorderWidth,e.wordsWrapper[0],e.transitionDuration,function(){Util.removeClass(e.words[e.selectedWord],e.wordInClass),Util.addClass(e.words[s],e.wordInClass),e.selectedWord=s,r(e.animBorderWidth,n,e.wordsWrapper[0],e.transitionDuration,function(){Util.addClass(e.wordsWrapper[0],e.animPulseClass),a(e)})})):(t=o,i=l,Util.removeClass(t.words[t.selectedWord],t.wordInClass),Util.addClass(t.words[t.selectedWord],t.wordOutClass),Util.addClass(t.words[i],t.wordInClass),function(t,e){setTimeout(function(){Util.removeClass(t.words[t.selectedWord],t.wordOutClass),t.selectedWord=e,a(t)},t.transitionDuration)}(t,i))},o.loopInterval))}function r(s,i,n,o,l){var a=null,r=function(t){var e=t-(a=a||t),t=Math.easeInOutQuart(e,s,i-s,o);n.style.width=t+"px",e<o?window.requestAnimationFrame(r):l()};n.style.width=s+"px",window.requestAnimationFrame(r)}var e=document.getElementsByClassName("js-text-anim"),s=Util.osHasReducedMotion();if(e&&!s)for(var i=0;i<e.length;i++)new t(e[i])}(),function(){function t(t){this.element=t,this.triggers=document.querySelectorAll('[aria-controls="'+this.element.getAttribute("id")+'"]'),this.firstFocusable=null,this.lastFocusable=null,this.moveFocusEl=null,this.modalFocus=this.element.getAttribute("data-modal-first-focus")?this.element.querySelector(this.element.getAttribute("data-modal-first-focus")):null,this.selectedTrigger=null,this.preventScrollEl=this.getPreventScrollEl(),this.showClass="modal--is-visible",this.initModal()}function s(t){return t.offsetWidth||t.offsetHeight||t.getClientRects().length}t.prototype.getPreventScrollEl=function(){var t=!1,e=this.element.getAttribute("data-modal-prevent-scroll");return e&&(t=document.querySelector(e)),t},t.prototype.initModal=function(){var e=this;if(this.triggers)for(var t=0;t<this.triggers.length;t++)this.triggers[t].addEventListener("click",function(t){t.preventDefault(),Util.hasClass(e.element,e.showClass)?e.closeModal():(e.selectedTrigger=t.target,e.showModal(),e.initModalEvents())});this.element.addEventListener("openModal",function(t){t.detail&&(e.selectedTrigger=t.detail),e.showModal(),e.initModalEvents()}),this.element.addEventListener("closeModal",function(t){t.detail&&(e.selectedTrigger=t.detail),e.closeModal()}),Util.hasClass(this.element,this.showClass)&&this.initModalEvents()},t.prototype.showModal=function(){var s=this;Util.addClass(this.element,this.showClass),this.getFocusableElements(),this.moveFocusEl&&(this.moveFocusEl.focus(),this.element.addEventListener("transitionend",function t(e){s.moveFocusEl.focus(),s.element.removeEventListener("transitionend",t)})),this.emitModalEvents("modalIsOpen"),this.preventScrollEl&&(this.preventScrollEl.style.overflow="hidden")},t.prototype.closeModal=function(){Util.hasClass(this.element,this.showClass)&&(Util.removeClass(this.element,this.showClass),this.firstFocusable=null,this.lastFocusable=null,this.moveFocusEl=null,this.selectedTrigger&&this.selectedTrigger.focus(),this.cancelModalEvents(),this.emitModalEvents("modalIsClose"),this.preventScrollEl&&(this.preventScrollEl.style.overflow=""))},t.prototype.initModalEvents=function(){this.element.addEventListener("keydown",this),this.element.addEventListener("click",this)},t.prototype.cancelModalEvents=function(){this.element.removeEventListener("keydown",this),this.element.removeEventListener("click",this)},t.prototype.handleEvent=function(t){switch(t.type){case"click":this.initClick(t);case"keydown":this.initKeyDown(t)}},t.prototype.initKeyDown=function(t){t.keyCode&&9==t.keyCode||t.key&&"Tab"==t.key?this.trapFocus(t):(t.keyCode&&13==t.keyCode||t.key&&"Enter"==t.key)&&t.target.closest(".js-modal__close")&&(t.preventDefault(),this.closeModal())},t.prototype.initClick=function(t){(t.target.closest(".js-modal__close")||Util.hasClass(t.target,"js-modal"))&&(t.preventDefault(),this.closeModal())},t.prototype.trapFocus=function(t){this.firstFocusable==document.activeElement&&t.shiftKey&&(t.preventDefault(),this.lastFocusable.focus()),this.lastFocusable!=document.activeElement||t.shiftKey||(t.preventDefault(),this.firstFocusable.focus())},t.prototype.getFocusableElements=function(){var t=this.element.querySelectorAll(i);this.getFirstVisible(t),this.getLastVisible(t),this.getFirstFocusable()},t.prototype.getFirstVisible=function(t){for(var e=0;e<t.length;e++)if(s(t[e])){this.firstFocusable=t[e];break}},t.prototype.getLastVisible=function(t){for(var e=t.length-1;0<=e;e--)if(s(t[e])){this.lastFocusable=t[e];break}},t.prototype.getFirstFocusable=function(){if(this.modalFocus&&Element.prototype.matches)if(this.modalFocus.matches(i))this.moveFocusEl=this.modalFocus;else{this.moveFocusEl=!1;for(var t=this.modalFocus.querySelectorAll(i),e=0;e<t.length;e++)if(s(t[e])){this.moveFocusEl=t[e];break}this.moveFocusEl||(this.moveFocusEl=this.firstFocusable)}else this.moveFocusEl=this.firstFocusable},t.prototype.emitModalEvents=function(t){t=new CustomEvent(t,{detail:this.selectedTrigger});this.element.dispatchEvent(t)};var e=document.getElementsByClassName("js-modal"),i='[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex="-1"]), [contenteditable], audio[controls], video[controls], summary';if(0<e.length){for(var n=[],o=0;o<e.length;o++)n.push(new t(e[o]));window.addEventListener("keydown",function(t){if(t.keyCode&&27==t.keyCode||t.key&&"escape"==t.key.toLowerCase())for(var e=0;e<n.length;e++)n[e].closeModal()})}}(),function(){var e=function(t){var o;this.options=Util.extend(e.defaults,t),this.element=this.options.element,this.input=this.element.getElementsByClassName("js-news-form__input"),this.button=this.element.getElementsByClassName("js-news-form__btn"),this.submitting=!1,(o=this).input.length<1||o.input.button<1||(o.input[0].addEventListener("input",function(t){var e,s,i,n;Util.removeClass(o.element,"news-form--success news-form--error"),s=(e=o).input[0].value,i=s.indexOf("@"),n=s.lastIndexOf("."),1<=i&&i+2<=n&&n<s.length-1?(Util.addClass(e.element,"news-form--enabled"),e.button[0].removeAttribute("disabled")):(Util.removeClass(e.element,"news-form--enabled"),e.button[0].setAttribute("disabled",!0))}),o.element.addEventListener("submit",function(t){t.preventDefault(),o.submitting||(o.submitting=!0,o.response=!1,Util.addClass(o.element,"news-form--loading news-form--circle-loop"),o.element.addEventListener("animationend",function t(e){o.response?(o.element.removeEventListener("animationend",t),s(o,o.response)):(Util.removeClass(o.element,"news-form--circle-loop"),o.element.offsetWidth,Util.addClass(o.element,"news-form--circle-loop"))}),o.options.submit(o.input[0].value,function(t){o.response=t,o.submitting=!1,i||s(o,t)}))}))};function s(t,e){Util.removeClass(t.element,"news-form--loading news-form--circle-loop"),"success"==e?Util.addClass(t.element,"news-form--success"):Util.addClass(t.element,"news-form--error")}(window.NewsInput=e).defaults={element:"",submit:!1};var i=Util.cssSupports("animation","name")}(),function(){function t(t,e){var s;this.element=t,this.figure=this.element.getElementsByClassName("js-parallax-img__assets")[0],this.imgs=this.element.getElementsByTagName("img"),this.maxRotation=e||2,5<this.maxRotation&&(this.maxRotation=5),this.scale=1,this.animating=!1,function(s){s.count=0,window.requestAnimationFrame(i.bind(s));for(var t=0;t<s.imgs.length;t++)!function(t){var e=!1;s.imgs[t].addEventListener("load",function(){e||(s.count=s.count+1)}),s.imgs[t].complete&&!e&&(e=!0,s.count=s.count+1)}(t)}(this),(s=this).element.addEventListener("mousemove",function(t){s.animating||(s.animating=!0,window.requestAnimationFrame(function(t,e){var s=this.element.getBoundingClientRect(),i=this.maxRotation/s.width*2*(s.left-t.clientX+s.width/2),s=this.maxRotation/s.height*2*(t.clientY-s.top-s.height/2);i>this.maxRotation&&(i=this.maxRotation);i<-1*this.maxRotation&&(i=-this.maxRotation);s>this.maxRotation&&(s=this.maxRotation);s<-1*this.maxRotation&&(s=-this.maxRotation);this.figure.style.transform="scale("+this.scale+") rotateX("+s+"deg) rotateY("+i+"deg)",this.animating=!1}.bind(s,t)))})}function i(){var t,e;this.count>=this.imgs.length?(e=function(t){for(var e=0,s=0,i=0;i<t.imgs.length;i++){var n=t.imgs[i].getBoundingClientRect().width;(n<e||0==i)&&(e=n),(s<n||0==i)&&(s=n)}var o=Math.ceil(10*s/e)/10;o<1.1&&(o=1.1);return o}(t=this),t.scale=e/Math.sin(Math.PI/2-t.maxRotation*Math.PI/180),t.figure.style.transform="scale("+t.scale+")",Util.addClass(t.element,"parallax-img--loaded"),this.loaded&&(window.cancelAnimationFrame(this.loaded),this.loaded=!1)):this.loaded=window.requestAnimationFrame(i.bind(this))}window.ParallaxImg=t;var e,s,n=document.getElementsByClassName("js-parallax-img");if(0<n.length&&Util.cssSupports("transform","translateZ(0px)"))for(var o=0;o<n.length;o++)s=void 0,s=n[e=o].getAttribute("data-perspective"),new t(n[e],s)}(),function(){var n,o,l,e,a,s,r=document.getElementsByClassName("reveal-fx"),i="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype;function d(){for(var t=0;t<r.length;t++)s[t]=new IntersectionObserver(function(t,e){var s;t[0].isIntersecting&&(s=t[0].target,s=Util.getIndexInArray(r,s),-1==l.indexOf(s)&&(h(s),l.push(s),g(),o=!1),e.unobserve(t[0].target))},{rootMargin:"0px 0px -"+a[t]+"px 0px"}),s[t].observe(r[t])}function u(){o||(o=!0,window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(function(){t()},250))}function t(){n=window.innerHeight,c()}function c(){for(var t,e,s,i=0;i<r.length;i++)t=i,s=e=void 0,-1==l.indexOf(t)&&(e=r[t],s=t,e.getBoundingClientRect().top<=n-a[s]&&(h(t),l.push(t)));g(),o=!1}function h(t){e[t]&&0!=e[t]?setTimeout(function(){Util.addClass(r[t],"reveal-fx--is-visible")},e[t]):Util.addClass(r[t],"reveal-fx--is-visible")}function m(t){return"reveal-fx"!=window.getComputedStyle(t,"::before").getPropertyValue("content").replace(/'|"/g,"")}function g(){r.length>l.length||(window.removeEventListener("load",c),window.removeEventListener("resize",u))}0<r.length&&(!Util.osHasReducedMotion()&&i?m(r[0])?function(){for(var t=0;t<r.length;t++)Util.addClass(r[t],"reveal-fx--is-visible")}():(n=window.innerHeight,o=!1,l=[],e=function(){for(var t=[],e=0;e<r.length;e++)t.push(r[e].getAttribute("data-reveal-fx-delay")?parseInt(r[e].getAttribute("data-reveal-fx-delay")):0);return t}(),a=function(){for(var t=[],e=0;e<r.length;e++)t.push(r[e].getAttribute("data-reveal-fx-delta")?parseInt(r[e].getAttribute("data-reveal-fx-delta")):120);return t}(),window.addEventListener("load",c),window.addEventListener("resize",u),window.addEventListener("restartAll",function(){if(Util.osHasReducedMotion()||!i||m(r[0]))return;r.length<=l.length&&(window.addEventListener("load",c),window.addEventListener("resize",u));for(var t=0;t<s.length;t++)s[t]&&s[t].disconnect();s=[];for(t=0;t<r.length;t++)Util.removeClass(r[t],"reveal-fx--is-visible");l=[],d()}),s=[],d()):function(){for(;r[0];){var t=r[0].getAttribute("class").split(" ").filter(function(t){return 0!==t.lastIndexOf("reveal-fx--",0)});r[0].setAttribute("class",t.join(" ").trim()),Util.removeClass(r[0],"reveal-fx")}}())}(),function(){function t(t){this.element=t,this.tabList=this.element.getElementsByClassName("js-tabs__controls")[0],this.listItems=this.tabList.getElementsByTagName("li"),this.triggers=this.tabList.getElementsByTagName("a"),this.panelsList=this.element.getElementsByClassName("js-tabs__panels")[0],this.panels=Util.getChildrenByClassName(this.panelsList,"js-tabs__panel"),this.hideClass="is-hidden",this.customShowClass=!!this.element.getAttribute("data-show-panel-class")&&this.element.getAttribute("data-show-panel-class"),this.layout=this.element.getAttribute("data-tabs-layout")?this.element.getAttribute("data-tabs-layout"):"horizontal",this.deepLinkOn="on"==this.element.getAttribute("data-deep-link"),this.initTab()}t.prototype.initTab=function(){this.tabList.setAttribute("role","tablist");for(var t=0;t<this.triggers.length;t++){var e=0==t,s=this.panels[t].getAttribute("id");this.listItems[t].setAttribute("role","presentation"),Util.setAttributes(this.triggers[t],{role:"tab","aria-selected":e,"aria-controls":s,id:"tab-"+s}),Util.addClass(this.triggers[t],"js-tabs__trigger"),Util.setAttributes(this.panels[t],{role:"tabpanel","aria-labelledby":"tab-"+s}),Util.toggleClass(this.panels[t],this.hideClass,!e),e||this.triggers[t].setAttribute("tabindex","-1")}this.initTabEvents(),this.initDeepLink()},t.prototype.initTabEvents=function(){var i=this;this.tabList.addEventListener("click",function(t){t.target.closest(".js-tabs__trigger")&&i.triggerTab(t.target.closest(".js-tabs__trigger"),t)}),this.tabList.addEventListener("keydown",function(t){var e,s;t.target.closest(".js-tabs__trigger")&&(e=t,"horizontal"==(s=i.layout)&&(e.keyCode&&39==e.keyCode||e.key&&"ArrowRight"==e.key)||"vertical"==s&&(e.keyCode&&40==e.keyCode||e.key&&"ArrowDown"==e.key)?(t.preventDefault(),i.selectNewTab("next")):(s=t,("horizontal"==(e=i.layout)&&(s.keyCode&&37==s.keyCode||s.key&&"ArrowLeft"==s.key)||"vertical"==e&&(s.keyCode&&38==s.keyCode||s.key&&"ArrowUp"==s.key))&&(t.preventDefault(),i.selectNewTab("prev"))))})},t.prototype.selectNewTab=function(t){var e=this.tabList.querySelector('[aria-selected="true"]'),e=Util.getIndexInArray(this.triggers,e);(e="next"==t?e+1:e-1)<0&&(e=this.listItems.length-1),e>=this.listItems.length&&(e=0),this.triggerTab(this.triggers[e]),this.triggers[e].focus()},t.prototype.triggerTab=function(t,e){e&&e.preventDefault();var s=Util.getIndexInArray(this.triggers,t);if("true"!=this.triggers[s].getAttribute("aria-selected")){for(var i=0;i<this.triggers.length;i++){var n=i==s;Util.toggleClass(this.panels[i],this.hideClass,!n),this.customShowClass&&Util.toggleClass(this.panels[i],this.customShowClass,n),this.triggers[i].setAttribute("aria-selected",n),n?this.triggers[i].setAttribute("tabindex","0"):this.triggers[i].setAttribute("tabindex","-1")}this.deepLinkOn&&history.replaceState(null,"","#"+t.getAttribute("aria-controls"))}},t.prototype.initDeepLink=function(){if(this.deepLinkOn){var t=window.location.hash.substr(1),e=this;if(t&&""!=t)for(var s=0;s<this.panels.length;s++)if(this.panels[s].getAttribute("id")==t){this.triggerTab(this.triggers[s],!1),setTimeout(function(){e.panels[s].scrollIntoView(!0)});break}}};var e=document.getElementsByClassName("js-tabs");if(0<e.length)for(var s=0;s<e.length;s++)new t(e[s])}(),function(){var e=function(t){this.options=Util.extend(e.defaults,t),this.element=this.options.element,this.timeline=this.element.getAttribute("data-w-schedule-timeline"),this.startTime=l(this.timeline.split("-")[0]),this.endTime=l(this.timeline.split("-")[1]),this.gridRows=1,this.grid=this.element.getElementsByClassName("js-w-schedule__grid"),this.halfHourGrid='<div class="w-schedule__grid-row"></div>',this.hourGrid='<div class="w-schedule__grid-row"><span class="w-schedule__grid-row-label">XXXX</span></div>',this.animationDuration=1e3*parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--w-schedule-modal-anim-duration"))||300,this.modal=document.getElementsByClassName("js-w-schedule-modal"),this.morphBg=document.getElementsByClassName("js-w-schedule-morph-bg"),this.modalCloseBtn=document.getElementsByClassName("js-w-schedule-close-btn"),function(t){var e="";0!=t.startTime[1]&&(e+=t.halfHourGrid,t.startTime[0]=t.startTime[0]+1,t.gridRows=t.gridRows+1);for(var s=t.endTime[0]-t.startTime[0],i=0;i<s;i++)e=e+n(t,i)+t.halfHourGrid;e+=n(t,s),t.gridRows=t.gridRows+2*s,0!=t.endTime[1]&&(e+=t.halfHourGrid,t.gridRows=t.gridRows+1),t.grid[0].innerHTML=e,t.element.style.setProperty("--w-schedule-row-nr",t.gridRows)}(t=this),function(t){for(var e=t.element.getElementsByClassName("js-w-schedule__event"),s=0;s<e.length;s++)!function(t,e){var s=e.getElementsByTagName("time")[0],i=l((o=s.getAttribute("datetime")).split("PT")[0]),n=function(t){var e=0;-1<t.indexOf("H")&&(t=(s=t.split("H"))[1],e=parseInt(s[0]));var s=0;-1<t.indexOf("M")&&(s=parseInt(t.split("M")[0]));return[e,s]}(o.split("PT")[1]),o=r(i[0]-t.startTime[0],i[1]-t.startTime[1]),t=r(n[0],n[1]);e.style.setProperty("--w-schedule-event-top","calc(var(--w-schedule-row-height) * "+o+")"),e.style.setProperty("--w-schedule-event-height","calc(var(--w-schedule-row-height) * "+t+")"),s.innerHTML=a(i)+" - "+a([i[0]+n[0],i[1]+n[1]])}(t,e[s])}(t),function(s){s.modal.length<1||s.morphBg.length<1||(s.modalContent=s.modal[0].getElementsByClassName("js-w-schedule-modal__content")[0],s.skeletonContent=s.modalContent.innerHTML,s.modalId=s.modal[0].getAttribute("id"),s.modal[0].addEventListener("modalIsOpen",function(t){var e;s.target=t.detail.closest('[aria-controls="'+s.modalId+'"]'),function(o,l){if(g)return l();var t=o.target.getBoundingClientRect(),e=o.modalContent.getBoundingClientRect(),a=e.left-t.left,r=e.top-t.top,d=t.width/e.width,u=t.height/e.height,c=null,h=o.animationDuration;o.morphBg[0].style="top: "+t.top+"px; left: "+t.left+"px; width: "+e.width+"px; height: "+e.height+"px; transform: scaleX("+d+") scaleY("+u+")",Util.removeClass(o.morphBg[0],"is-hidden");var m=function(t){var e=t-(c=c||t);h<e&&(e=h);var s=Math.easeOutQuart(e,d,1-d,h),i=Math.easeOutQuart(e,u,1-u,h),n=Math.easeOutQuart(e,0,a,h),t=Math.easeOutQuart(e,0,r,h);o.morphBg[0].style.transform="translateX("+n+"px) translateY("+t+"px) scaleX("+s+") scaleY("+i+")",e<h?window.requestAnimationFrame(m):l&&l()};window.requestAnimationFrame(m)}(s,function(){Util.addClass(s.morphBg[0],"is-hidden"),s.morphBg[0].style="",Util.removeClass(s.modalContent,"opacity-0")}),(e=s).options.searchData(e.target,function(t){Util.addClass(e.modalContent,"w-schedule-modal__content--loaded"),e.modalContent.innerHTML=t}),i(s,!0)}),s.modal[0].addEventListener("modalIsClose",function(t){s.modal[0].addEventListener("transitionend",function t(e){"opacity"==e.propertyName&&(o(s),s.modal[0].removeEventListener("transitionend",t))}),s.target=!1,i(s,!1),g&&o(s)}),0<s.modalCloseBtn.length&&s.modalCloseBtn[0].addEventListener("click",function(t){s.modal[0].click()}))}(t)};function l(t){t=t.split(":");return[parseInt(t[0]),parseInt(t[1])]}function n(t,e){e=s(t.startTime[0]+e);return t.hourGrid.replace("XXXX",e+":00")}function a(t){var e;return 60<=t[1]&&(e=t[1]%60,t[0]=t[0]+(t[1]-e)/60,t[1]=e),s(t[0])+":"+function t(e){if(e<10)return"0"+e;if(60<e)return t(e-60);return e}(t[1])}function s(t){return t<10?"0"+t:24<t?s(t-24):t}function r(t,e){return 2*(t+e/60)}function i(t,e){0<t.modalCloseBtn.length&&Util.toggleClass(t.modalCloseBtn[0],"w-schedule-close-btn--is-visible",e)}function o(t){Util.addClass(t.modalContent,"opacity-0"),t.modalContent.innerHTML=t.skeletonContent,Util.removeClass(t.modalContent,"w-schedule-modal__content--loaded")}(window.WSchedule=e).defaults={element:"",searchData:!1};var g=Util.osHasReducedMotion()}();